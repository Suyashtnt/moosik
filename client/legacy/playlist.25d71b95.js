import{_ as t,a as n,b as e,c as r,i as a,s as c,d as s,S as o,l as u,e as i,t as l,m as f,o as p,h,p as d,g as v,r as m,j as y,u as g,w as x,k as w,B as b,n as E,C as R,D as U,E as L,F as D,G as V,H as $,I as k,J as I,K as T,f as P,q as A,v as j,L as B,M as N,x as O,N as q,O as G,z as M,A as S,P as z}from"./client.31c4eced.js";function F(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,c=n(t);if(r){var s=n(this).constructor;a=Reflect.construct(c,arguments,s)}else a=c.apply(this,arguments);return e(this,a)}}function H(t){var n,e,r,a,c,s,o,R,U,L,D,V,$,k,I,T;return{c:function(){n=u("div"),e=u("div"),r=u("img"),c=i(),s=u("div"),o=u("h2"),R=l(t[0]),U=i(),L=u("div"),D=l(t[2]),V=i(),$=u("button"),k=l("play"),this.h()},l:function(a){n=f(a,"DIV",{class:!0});var u=p(n);e=f(u,"DIV",{class:!0});var i=p(e);r=f(i,"IMG",{class:!0,src:!0,alt:!0}),c=h(i),s=f(i,"DIV",{class:!0});var l=p(s);o=f(l,"H2",{class:!0});var m=p(o);R=d(m,t[0]),m.forEach(v),U=h(l),L=f(l,"DIV",{class:!0});var y=p(L);D=d(y,t[2]),y.forEach(v),V=h(l),$=f(l,"BUTTON",{class:!0});var g=p($);k=d(g,"play"),g.forEach(v),l.forEach(v),i.forEach(v),u.forEach(v),this.h()},h:function(){m(r,"class","h-16 w-16 md:h-24 md:w-24 rounded mx-auto md:mx-0 md:mr-6"),r.src!==(a=t[1])&&m(r,"src",a),m(r,"alt","Avatar"),m(o,"class","text-lg capitalize"),m(L,"class","text-gray-600"),m($,"class","btn btn-primary mt-2"),m(s,"class","text-center md:text-left"),m(e,"class","md:flex bg-white rounded-lg p-6"),m(n,"class","shadow-lg leading-normal self-end bg-white rounded-lg m-10 relative")},m:function(a,u){y(a,n,u),g(n,e),g(e,r),g(e,c),g(e,s),g(s,o),g(o,R),g(s,U),g(s,L),g(L,D),g(s,V),g(s,$),g($,k),I||(T=x($,"click",t[3]),I=!0)},p:function(t,n){var e=w(n,1)[0];2&e&&r.src!==(a=t[1])&&m(r,"src",a),1&e&&b(R,t[0]),4&e&&b(D,t[2])},i:E,o:E,d:function(t){t&&v(n),I=!1,T()}}}function C(t,n,e){var r=R(),a=n.name,c=n.parsedUrl,s=n.thumb,o=n.VideoURL;return t.$$set=function(t){"name"in t&&e(0,a=t.name),"parsedUrl"in t&&e(4,c=t.parsedUrl),"thumb"in t&&e(1,s=t.thumb),"VideoURL"in t&&e(2,o=t.VideoURL)},[a,s,o,function(){r("play",{url:c})},c]}var J=function(n){t(u,o);var e=F(u);function u(t){var n;return r(this,u),n=e.call(this),a(s(n),t,C,H,c,{name:0,parsedUrl:4,thumb:1,VideoURL:2}),n}return u}();function K(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,c=n(t);if(r){var s=n(this).constructor;a=Reflect.construct(c,arguments,s)}else a=c.apply(this,arguments);return e(this,a)}}function Y(t,n,e){var r=t.slice();return r[7]=n[e],r}function _(t){for(var n,e,r=[t[7]],a={},c=0;c<r.length;c+=1)a=q(a,r[c]);return(n=new J({props:a})).$on("play",Z),{c:function(){U(n.$$.fragment)},l:function(t){L(n.$$.fragment,t)},m:function(t,r){D(n,t,r),e=!0},p:function(t,e){var a=1&e?V(r,[$(t[7])]):{};n.$set(a)},i:function(t){e||(k(n.$$.fragment,t),e=!0)},o:function(t){I(n.$$.fragment,t),e=!1},d:function(t){T(n,t)}}}function Q(t){for(var n,e,r,a,c,s,o,b,E,R,U,L,D,V,$,T,q,M,S,z=t[0],F=[],H=0;H<z.length;H+=1)F[H]=_(Y(t,z,H));var C=function(t){return I(F[t],1,1,(function(){F[t]=null}))};return{c:function(){n=i(),e=u("div"),r=u("form"),a=u("div"),c=u("label"),s=l("URL"),o=i(),b=u("input"),E=i(),R=u("button"),U=l("Add to playlist"),L=i(),D=u("button"),V=l("Play all"),$=i();for(var t=0;t<F.length;t+=1)F[t].c();T=P(),this.h()},l:function(t){A('[data-svelte="svelte-2986pj"]',document.head).forEach(v),n=h(t),e=f(t,"DIV",{class:!0});var u=p(e);r=f(u,"FORM",{class:!0});var i=p(r);a=f(i,"DIV",{class:!0});var l=p(a);c=f(l,"LABEL",{class:!0,for:!0});var m=p(c);s=d(m,"URL"),m.forEach(v),o=h(l),b=f(l,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0}),l.forEach(v),E=h(i),R=f(i,"BUTTON",{class:!0});var y=p(R);U=d(y,"Add to playlist"),y.forEach(v),L=h(i),D=f(i,"BUTTON",{class:!0});var g=p(D);V=d(g,"Play all"),g.forEach(v),i.forEach(v),u.forEach(v),$=h(t);for(var x=0;x<F.length;x+=1)F[x].l(t);T=P(),this.h()},h:function(){document.title="Playlist",m(c,"class","block text-gray-700 text-sm font-bold mb-2"),m(c,"for","username"),m(b,"class","shadow appearance-none border rounded w-full py-2 px-3\n        text-gray-700 leading-tight focus:outline-none focus:shadow-outline"),m(b,"id","username"),m(b,"type","text"),m(b,"placeholder","Youtube Video URL"),m(a,"class","mb-4"),m(R,"class","btn btn-primary mt-2 float-left"),m(D,"class","btn btn-primary mt-2 float-right"),m(r,"class","bg-white shadow-md clearfix rounded px-8 pt-6 pb-8 mb-4 svelte-1erwrqy"),m(e,"class","w-full center clearfix svelte-1erwrqy")},m:function(u,i){y(u,n,i),y(u,e,i),g(e,r),g(r,a),g(a,c),g(c,s),g(a,o),g(a,b),j(b,t[1]),g(r,E),g(r,R),g(R,U),g(r,L),g(r,D),g(D,V),y(u,$,i);for(var l=0;l<F.length;l+=1)F[l].m(u,i);y(u,T,i),q=!0,M||(S=[x(b,"input",t[4]),x(R,"click",t[5]),x(D,"click",t[6])],M=!0)},p:function(t,n){var e=w(n,1)[0];if(2&e&&b.value!==t[1]&&j(b,t[1]),1&e){var r;for(z=t[0],r=0;r<z.length;r+=1){var a=Y(t,z,r);F[r]?(F[r].p(a,e),k(F[r],1)):(F[r]=_(a),F[r].c(),k(F[r],1),F[r].m(T.parentNode,T))}for(G(),r=z.length;r<F.length;r+=1)C(r);B()}},i:function(t){if(!q){for(var n=0;n<z.length;n+=1)k(F[n]);q=!0}},o:function(t){F=F.filter(Boolean);for(var n=0;n<F.length;n+=1)I(F[n]);q=!1},d:function(t){t&&v(n),t&&v(e),t&&v($),N(F,t),t&&v(T),M=!1,O(S)}}}function W(t){return X.apply(this,arguments)}function X(){return(X=M(S.mark((function t(n){var e,r,a,c,s,o,u;return S.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=et(n),console.log(e),console.log("https://www.yt-mp3s.com/@api/json/mp3/".concat(e)),t.next=5,fetch("https://www.yt-mp3s.com/@api/json/mp3/".concat(e),{method:"GET",mode:"cors",headers:{}});case 5:return r=t.sent,t.next=8,r.json();case 8:return a=t.sent,t.next=11,a.vidInfo[0].dloadUrl;case 11:return c=t.sent,t.next=14,a.vidTitle;case 14:return s=t.sent,t.next=17,a.vidThumb;case 17:return o=t.sent,u={parsedUrl:c,name:s,thumb:o,VideoURL:n},console.log(u),t.abrupt("return",u);case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(t){return tt.apply(this,arguments)}function tt(){return(tt=M(S.mark((function t(n){var e;return S.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Audio,t.next=3,n.detail.url;case 3:return t.t1=t.sent,e=new t.t0(t.t1),t.next=7,e.play();case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nt(t){return t.play().then((function(){return new Promise((function(n,e){function r(){t.removeEventListener("error",a),n()}function a(){t.removeEventListener("ended",r),e(err)}t.addEventListener("ended",r,{once:!0}),t.addEventListener("error",a,{once:!0})}))}))}function et(t){var n=t.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!n||11!=n[7].length)&&n[7]}function rt(t,n,e){var r,a=[];function c(t){return s.apply(this,arguments)}function s(){return(s=M(S.mark((function t(n){var r;return S.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(n);case 2:return r=t.sent,t.t0=e,t.t1=[],t.t2=z(a),t.next=8,r;case 8:t.t3=t.sent,t.t4=[t.t3],t.t5=a=t.t1.concat.call(t.t1,t.t2,t.t4),(0,t.t0)(0,t.t5),console.log(a);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function o(){return u.apply(this,arguments)}function u(){return(u=M(S.mark((function t(){var n,e;return S.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<a.length)){t.next=8;break}return e=new Audio(a[n].parsedUrl),t.next=5,nt(e);case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return[a,r,c,o,function(){r=this.value,e(1,r)},function(t){t.preventDefault(),c(r)},function(t){t.preventDefault(),o()}]}var at=function(n){t(u,o);var e=K(u);function u(t){var n;return r(this,u),n=e.call(this),a(s(n),t,rt,Q,c,{}),n}return u}();export default at;
