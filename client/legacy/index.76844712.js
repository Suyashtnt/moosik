import{_ as n,a as t,b as e,c as r,i as c,s as a,d as s,S as o,f as u,D as l,l as i,o as f,q as h,n as d,k as p,e as m,t as v,g as b,h as g,j as x,m as w,N as y,p as k,O as E,P as U,Q as T,K as L,L as I,C as N}from"./index.3514dc66.js";function j(n){var t,e,r,c,a,s,o,l,h,d,T;return{c:function(){t=m("div"),e=m("form"),r=m("div"),c=m("label"),a=v("URL"),s=u(),o=m("input"),l=u(),h=m("button"),d=v("Get song"),this.h()},l:function(n){t=b(n,"DIV",{class:!0});var u=g(t);e=b(u,"FORM",{class:!0});var f=g(e);r=b(f,"DIV",{class:!0});var m=g(r);c=b(m,"LABEL",{class:!0,for:!0});var v=g(c);a=x(v,"URL"),v.forEach(p),s=i(m),o=b(m,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0}),m.forEach(p),l=i(f),h=b(f,"BUTTON",{class:!0});var w=g(h);d=x(w,"Get song"),w.forEach(p),f.forEach(p),u.forEach(p),this.h()},h:function(){w(c,"class","block text-gray-700 text-sm font-bold mb-2"),w(c,"for","username"),w(o,"class","shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"),w(o,"id","username"),w(o,"type","text"),w(o,"placeholder","Youtube Video URL"),w(r,"class","mb-4"),w(h,"class","inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800"),w(e,"class","bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"),w(t,"class","w-full max-w-xs center svelte-gdlu9p"),T=[y(o,"input",n[4]),y(h,"click",n[2])]},m:function(u,i){f(u,t,i),k(t,e),k(e,r),k(r,c),k(c,a),k(r,s),k(r,o),E(o,n[0]),k(e,l),k(e,h),k(h,d)},p:function(n,t){1&t&&o.value!==n[0]&&E(o,n[0])},d:function(n){n&&p(t),U(T)}}}function R(n){var t,e,r={ctx:n,current:null,token:null,pending:G,then:D,catch:V,value:5,error:6};return T(e=A(n[0]),r),{c:function(){t=l(),r.block.c()},l:function(n){t=l(),r.block.l(n)},m:function(n,e){f(n,t,e),r.block.m(n,r.anchor=e),r.mount=function(){return t.parentNode},r.anchor=t},p:function(t,c){if(n=t,r.ctx=n,1&c&&e!==(e=A(n[0]))&&T(e,r));else{var a=n.slice();a[5]=r.resolved,r.block.p(a,c)}},d:function(n){n&&p(t),r.block.d(n),r.token=null,r=null}}}function V(n){return{c:d,l:d,m:d,p:d,d:d}}function D(n){var t,e,r,c,a,s,o,l,h,d,E=n[5].name+"";function U(){for(var t,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return((t=n)[3].apply(t,[n[5]].concat(r)))}return{c:function(){t=m("div"),e=m("h1"),r=v(E),c=u(),a=m("img"),o=u(),l=m("button"),h=v("play"),this.h()},l:function(n){t=b(n,"DIV",{class:!0});var s=g(t);e=b(s,"H1",{class:!0});var u=g(e);r=x(u,E),u.forEach(p),c=i(s),a=b(s,"IMG",{class:!0,src:!0,alt:!0}),o=i(s),l=b(s,"BUTTON",{class:!0});var f=g(l);h=x(f,"play"),f.forEach(p),s.forEach(p),this.h()},h:function(){w(e,"class","svelte-gdlu9p"),w(a,"class","rounded center svelte-gdlu9p"),a.src!==(s=n[5].thumb)&&w(a,"src",s),w(a,"alt","thumbnail"),w(l,"class","bg-blue-600 hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4\n      border border-gray-400 rounded shadow btn-center text-center center2 svelte-gdlu9p"),w(t,"class","bg-white shadow rounded content-center items-center"),d=y(l,"click",U)},m:function(n,s){f(n,t,s),k(t,e),k(e,r),k(t,c),k(t,a),k(t,o),k(t,l),k(l,h)},p:function(t,e){n=t,1&e&&E!==(E=n[5].name+"")&&N(r,E),1&e&&a.src!==(s=n[5].thumb)&&w(a,"src",s)},d:function(n){n&&p(t),d()}}}function G(n){var t,e;return{c:function(){t=m("h1"),e=v("getting song"),this.h()},l:function(n){t=b(n,"H1",{class:!0});var r=g(t);e=x(r,"getting song"),r.forEach(p),this.h()},h:function(){w(t,"class","svelte-gdlu9p")},m:function(n,r){f(n,t,r),k(t,e)},p:d,d:function(n){n&&p(t)}}}function O(n){var t,e;function r(n,t){return n[1]?R:j}var c=r(n),a=c(n);return{c:function(){t=u(),a.c(),e=l(),this.h()},l:function(n){t=i(n),a.l(n),e=l(),this.h()},h:function(){document.title="Single Song"},m:function(n,r){f(n,t,r),a.m(n,r),f(n,e,r)},p:function(n,t){var s=h(t,1)[0];c===(c=r(n))&&a?a.p(n,s):(a.d(1),(a=c(n))&&(a.c(),a.m(e.parentNode,e)))},i:d,o:d,d:function(n){n&&p(t),a.d(n),n&&p(e)}}}function A(n){return B.apply(this,arguments)}function B(){return(B=L(I.mark((function n(t){var e,r,c,a,s,o,u;return I.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=void 0,l=t.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/),e=!(!l||11!=l[7].length)&&l[7],console.log(e),console.log("https://www.yt-mp3s.com/@api/json/mp3/".concat(e)),n.next=5,fetch("https://www.yt-mp3s.com/@api/json/mp3/".concat(e),{method:"GET",mode:"cors",headers:{}});case 5:return r=n.sent,n.next=8,r.json();case 8:return c=n.sent,n.next=11,c.vidInfo[0].dloadUrl;case 11:return a=n.sent,n.next=14,c.vidTitle;case 14:return s=n.sent,n.next=17,c.vidThumb;case 17:return o=n.sent,u={parsedUrl:a,name:s,thumb:o,VideoURL:t},console.log(u),n.abrupt("return",u);case 21:case"end":return n.stop()}var l}),n)})))).apply(this,arguments)}function S(){return(S=L(I.mark((function n(t){var e;return I.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Audio,n.next=3,t;case 3:return n.t1=n.sent,e=new n.t0(n.t1),n.next=7,e.play();case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function H(n,t,e){var r,c=!1;return[r,c,function(){e(1,c=!0)},function(n,t){return function(n){return S.apply(this,arguments)}(n.parsedUrl)},function(){r=this.value,e(0,r)}]}var M=function(u){function l(n){var o;return t(this,l),o=e(this,r(l).call(this)),c(s(o),n,H,O,a,{}),o}return n(l,o),l}();export default M;
