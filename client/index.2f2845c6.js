import{S as t,i as e,s,a,y as n,g as l,j as o,n as c,f as r,e as i,t as u,c as d,b as h,d as p,h as m,F as b,k as f,G as g,H as v,I as w,x}from"./index.27c8b6d8.js";function y(t){let e,s,n,c,w,x,y,k,E,U,T;return{c(){e=i("div"),s=i("form"),n=i("div"),c=i("label"),w=u("URL"),x=a(),y=i("input"),k=a(),E=i("button"),U=u("Get song"),this.h()},l(t){e=d(t,"DIV",{class:!0});var a=h(e);s=d(a,"FORM",{class:!0});var o=h(s);n=d(o,"DIV",{class:!0});var i=h(n);c=d(i,"LABEL",{class:!0,for:!0});var u=h(c);w=p(u,"URL"),u.forEach(r),x=l(i),y=d(i,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0}),i.forEach(r),k=l(o),E=d(o,"BUTTON",{class:!0});var m=h(E);U=p(m,"Get song"),m.forEach(r),o.forEach(r),a.forEach(r),this.h()},h(){m(c,"class","block text-gray-700 text-sm font-bold mb-2"),m(c,"for","username"),m(y,"class","shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"),m(y,"id","username"),m(y,"type","text"),m(y,"placeholder","Youtube Video URL"),m(n,"class","mb-4"),m(E,"class","inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800"),m(s,"class","bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"),m(e,"class","w-full max-w-xs center svelte-gdlu9p"),T=[b(y,"input",t[4]),b(E,"click",t[2])]},m(a,l){o(a,e,l),f(e,s),f(s,n),f(n,c),f(c,w),f(n,x),f(n,y),g(y,t[0]),f(s,k),f(s,E),f(E,U)},p(t,e){1&e&&y.value!==t[0]&&g(y,t[0])},d(t){t&&r(e),v(T)}}}function k(t){let e,s,a={ctx:t,current:null,token:null,pending:T,then:U,catch:E,value:5,error:6};return w(s=L(t[0]),a),{c(){e=n(),a.block.c()},l(t){e=n(),a.block.l(t)},m(t,s){o(t,e,s),a.block.m(t,a.anchor=s),a.mount=()=>e.parentNode,a.anchor=e},p(e,n){if(t=e,a.ctx=t,1&n&&s!==(s=L(t[0]))&&w(s,a));else{const e=t.slice();e[5]=a.resolved,a.block.p(e,n)}},d(t){t&&r(e),a.block.d(t),a.token=null,a=null}}}function E(t){return{c:c,l:c,m:c,p:c,d:c}}function U(t){let e,s,n,c,g,v,w,y,k,E,U=t[5].name+"";function T(...e){return t[3](t[5],...e)}return{c(){e=i("div"),s=i("h1"),n=u(U),c=a(),g=i("img"),w=a(),y=i("button"),k=u("play"),this.h()},l(t){e=d(t,"DIV",{class:!0});var a=h(e);s=d(a,"H1",{class:!0});var o=h(s);n=p(o,U),o.forEach(r),c=l(a),g=d(a,"IMG",{class:!0,src:!0,alt:!0}),w=l(a),y=d(a,"BUTTON",{class:!0});var i=h(y);k=p(i,"play"),i.forEach(r),a.forEach(r),this.h()},h(){m(s,"class","svelte-gdlu9p"),m(g,"class","rounded center svelte-gdlu9p"),g.src!==(v=t[5].thumb)&&m(g,"src",v),m(g,"alt","thumbnail"),m(y,"class","bg-blue-600 hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4\n      border border-gray-400 rounded shadow btn-center text-center center2 svelte-gdlu9p"),m(e,"class","bg-white shadow rounded content-center items-center"),E=b(y,"click",T)},m(t,a){o(t,e,a),f(e,s),f(s,n),f(e,c),f(e,g),f(e,w),f(e,y),f(y,k)},p(e,s){t=e,1&s&&U!==(U=t[5].name+"")&&x(n,U),1&s&&g.src!==(v=t[5].thumb)&&m(g,"src",v)},d(t){t&&r(e),E()}}}function T(t){let e,s;return{c(){e=i("h1"),s=u("getting song"),this.h()},l(t){e=d(t,"H1",{class:!0});var a=h(e);s=p(a,"getting song"),a.forEach(r),this.h()},h(){m(e,"class","svelte-gdlu9p")},m(t,a){o(t,e,a),f(e,s)},p:c,d(t){t&&r(e)}}}function I(t){let e,s;function i(t,e){return t[1]?k:y}let u=i(t),d=u(t);return{c(){e=a(),d.c(),s=n(),this.h()},l(t){e=l(t),d.l(t),s=n(),this.h()},h(){document.title="Single Song"},m(t,a){o(t,e,a),d.m(t,a),o(t,s,a)},p(t,[e]){u===(u=i(t))&&d?d.p(t,e):(d.d(1),d=u(t),d&&(d.c(),d.m(s.parentNode,s)))},i:c,o:c,d(t){t&&r(e),d.d(t),t&&r(s)}}}async function L(t){const e=!(!(s=t.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/))||11!=s[7].length)&&s[7];var s;console.log(e),console.log(`https://www.yt-mp3s.com/@api/json/mp3/${e}`);const a=await fetch(`https://www.yt-mp3s.com/@api/json/mp3/${e}`,{method:"GET",mode:"cors",headers:{}}),n=await a.json(),l={parsedUrl:await n.vidInfo[0].dloadUrl,name:await n.vidTitle,thumb:await n.vidThumb,VideoURL:t};return console.log(l),l}function j(t,e,s){var a,n=!1;return[a,n,function(){s(1,n=!0)},(t,e)=>(async function(t){const e=new Audio(await t);await e.play()})(t.parsedUrl),function(){a=this.value,s(0,a)}]}export default class extends t{constructor(t){super(),e(this,t,j,I,s,{})}}
