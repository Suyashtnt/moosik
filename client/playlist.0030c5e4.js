import{S as t,i as a,s as e,e as s,a as n,t as l,c as r,b as o,g as c,d as i,f as d,h as u,F as f,j as h,k as m,x as p,n as v,J as g,m as w,o as b,p as y,A as x,B as E,u as U,v as L,w as $,y as V,G as T,E as D,K as I,H as R,z as A,D as B}from"./index.27c8b6d8.js";function j(t){let a,e,g,w,b,y,x,E,U,L,$,V,T,D,I;return{c(){a=s("div"),e=s("div"),g=s("img"),b=n(),y=s("div"),x=s("h2"),E=l(t[0]),U=n(),L=s("div"),$=l(t[2]),V=n(),T=s("button"),D=l("play"),this.h()},l(s){a=r(s,"DIV",{class:!0});var n=o(a);e=r(n,"DIV",{class:!0});var l=o(e);g=r(l,"IMG",{class:!0,src:!0,alt:!0}),b=c(l),y=r(l,"DIV",{class:!0});var u=o(y);x=r(u,"H2",{class:!0});var f=o(x);E=i(f,t[0]),f.forEach(d),U=c(u),L=r(u,"DIV",{class:!0});var h=o(L);$=i(h,t[2]),h.forEach(d),V=c(u),T=r(u,"BUTTON",{class:!0});var m=o(T);D=i(m,"play"),m.forEach(d),u.forEach(d),l.forEach(d),n.forEach(d),this.h()},h(){u(g,"class","h-16 w-16 md:h-24 md:w-24 rounded mx-auto md:mx-0 md:mr-6"),g.src!==(w=t[1])&&u(g,"src",w),u(g,"alt","Avatar"),u(x,"class","text-lg capitalize"),u(L,"class","text-gray-600"),u(T,"class","btn btn-primary mt-2"),u(y,"class","text-center md:text-left"),u(e,"class","md:flex bg-white rounded-lg p-6"),u(a,"class","shadow-lg leading-normal self-end bg-white rounded-lg m-10 relative"),I=f(T,"click",t[3])},m(t,s){h(t,a,s),m(a,e),m(e,g),m(e,b),m(e,y),m(y,x),m(x,E),m(y,U),m(y,L),m(L,$),m(y,V),m(y,T),m(T,D)},p(t,[a]){2&a&&g.src!==(w=t[1])&&u(g,"src",w),1&a&&p(E,t[0]),4&a&&p($,t[2])},i:v,o:v,d(t){t&&d(a),I()}}}function k(t,a,e){const s=g();let{name:n}=a,{parsedUrl:l}=a,{thumb:r}=a,{VideoURL:o}=a;return t.$set=t=>{"name"in t&&e(0,n=t.name),"parsedUrl"in t&&e(4,l=t.parsedUrl),"thumb"in t&&e(1,r=t.thumb),"VideoURL"in t&&e(2,o=t.VideoURL)},[n,r,o,function(){s("play",{url:l})},l]}class N extends t{constructor(t){super(),a(this,t,k,j,e,{name:0,parsedUrl:4,thumb:1,VideoURL:2})}}function P(t,a,e){const s=t.slice();return s[7]=a[e],s}function O(t){let a;const e=[t[7]];let s={};for(let t=0;t<e.length;t+=1)s=A(s,e[t]);const n=new N({props:s});return n.$on("play",q),{c(){w(n.$$.fragment)},l(t){b(n.$$.fragment,t)},m(t,e){y(n,t,e),a=!0},p(t,a){const s=1&a?x(e,[E(t[7])]):{};n.$set(s)},i(t){a||(U(n.$$.fragment,t),a=!0)},o(t){L(n.$$.fragment,t),a=!1},d(t){$(n,t)}}}function G(t){let a,e,p,v,g,w,b,y,x,E,$,A,j,k,N,G,q,z,F=t[0],H=[];for(let a=0;a<F.length;a+=1)H[a]=O(P(t,F,a));const M=t=>L(H[t],1,1,()=>{H[t]=null});return{c(){a=n(),e=s("div"),p=s("form"),v=s("div"),g=s("label"),w=l("URL"),b=n(),y=s("input"),x=n(),E=s("button"),$=l("Add to playlist"),A=n(),j=s("button"),k=l("Play all"),N=n();for(let t=0;t<H.length;t+=1)H[t].c();G=V(),this.h()},l(t){a=c(t),e=r(t,"DIV",{class:!0});var s=o(e);p=r(s,"FORM",{class:!0});var n=o(p);v=r(n,"DIV",{class:!0});var l=o(v);g=r(l,"LABEL",{class:!0,for:!0});var u=o(g);w=i(u,"URL"),u.forEach(d),b=c(l),y=r(l,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0}),l.forEach(d),x=c(n),E=r(n,"BUTTON",{class:!0});var f=o(E);$=i(f,"Add to playlist"),f.forEach(d),A=c(n),j=r(n,"BUTTON",{class:!0});var h=o(j);k=i(h,"Play all"),h.forEach(d),n.forEach(d),s.forEach(d),N=c(t);for(let a=0;a<H.length;a+=1)H[a].l(t);G=V(),this.h()},h(){document.title="Playlist",u(g,"class","block text-gray-700 text-sm font-bold mb-2"),u(g,"for","username"),u(y,"class","shadow appearance-none border rounded w-full py-2 px-3\n        text-gray-700 leading-tight focus:outline-none focus:shadow-outline"),u(y,"id","username"),u(y,"type","text"),u(y,"placeholder","Youtube Video URL"),u(v,"class","mb-4"),u(E,"class","btn btn-primary mt-2 float-left"),u(j,"class","btn btn-primary mt-2 float-right"),u(p,"class","bg-white shadow-md clearfix rounded px-8 pt-6 pb-8 mb-4 svelte-1erwrqy"),u(e,"class","w-full center clearfix svelte-1erwrqy"),z=[f(y,"input",t[4]),f(E,"click",t[5]),f(j,"click",t[6])]},m(s,n){h(s,a,n),h(s,e,n),m(e,p),m(p,v),m(v,g),m(g,w),m(v,b),m(v,y),T(y,t[1]),m(p,x),m(p,E),m(E,$),m(p,A),m(p,j),m(j,k),h(s,N,n);for(let t=0;t<H.length;t+=1)H[t].m(s,n);h(s,G,n),q=!0},p(t,[a]){if(2&a&&y.value!==t[1]&&T(y,t[1]),1&a){let e;for(F=t[0],e=0;e<F.length;e+=1){const s=P(t,F,e);H[e]?(H[e].p(s,a),U(H[e],1)):(H[e]=O(s),H[e].c(),U(H[e],1),H[e].m(G.parentNode,G))}for(B(),e=F.length;e<H.length;e+=1)M(e);D()}},i(t){if(!q){for(let t=0;t<F.length;t+=1)U(H[t]);q=!0}},o(t){H=H.filter(Boolean);for(let t=0;t<H.length;t+=1)L(H[t]);q=!1},d(t){t&&d(a),t&&d(e),t&&d(N),I(H,t),t&&d(G),R(z)}}}async function q(t){const a=new Audio(await t.detail.url);await a.play()}function z(t){return t.play().then(()=>new Promise((a,e)=>{function s(){t.removeEventListener("error",n),a()}function n(){t.removeEventListener("ended",s),e(err)}t.addEventListener("ended",s,{once:!0}),t.addEventListener("error",n,{once:!0})}))}function F(t,a,e){var s,n=[];async function l(t){var a=await async function(t){const a=!(!(e=t.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/))||11!=e[7].length)&&e[7];var e;console.log(a),console.log(`https://www.yt-mp3s.com/@api/json/mp3/${a}`);const s=await fetch(`https://www.yt-mp3s.com/@api/json/mp3/${a}`,{method:"GET",mode:"cors",headers:{}}),n=await s.json(),l={parsedUrl:await n.vidInfo[0].dloadUrl,name:await n.vidTitle,thumb:await n.vidThumb,VideoURL:t};return console.log(l),l}(t);e(0,n=[...n,await a]),console.log(n)}async function r(){for(let t=0;t<n.length;t++){const a=new Audio(n[t].parsedUrl);await z(a)}}return[n,s,l,r,function(){s=this.value,e(1,s)},t=>{t.preventDefault(),l(s)},t=>{t.preventDefault(),r()}]}export default class extends t{constructor(t){super(),a(this,t,F,G,e,{})}}
