import{S as t,i as e,s,a,e as n,q as l,d as o,c,b as r,n as u,f as i,t as d,g as h,h as p,j as m,k as f,l as b,m as g,o as v,r as w,p as x,u as y}from"./client.77f5116d.js";function k(t){let e,s,n,l,u,x,y,k,E,U,T,I;return{c(){e=i("div"),s=i("form"),n=i("div"),l=i("label"),u=d("URL"),x=a(),y=i("input"),k=a(),E=i("button"),U=d("Get song"),this.h()},l(t){e=h(t,"DIV",{class:!0});var a=p(e);s=h(a,"FORM",{class:!0});var r=p(s);n=h(r,"DIV",{class:!0});var i=p(n);l=h(i,"LABEL",{class:!0,for:!0});var d=p(l);u=m(d,"URL"),d.forEach(o),x=c(i),y=h(i,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0}),i.forEach(o),k=c(r),E=h(r,"BUTTON",{class:!0});var f=p(E);U=m(f,"Get song"),f.forEach(o),r.forEach(o),a.forEach(o),this.h()},h(){f(l,"class","block text-gray-700 text-sm font-bold mb-2"),f(l,"for","username"),f(y,"class","shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"),f(y,"id","username"),f(y,"type","text"),f(y,"placeholder","Youtube Video URL"),f(n,"class","mb-4"),f(E,"class","inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800"),f(s,"class","bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"),f(e,"class","w-full max-w-xs center svelte-gdlu9p")},m(a,o){r(a,e,o),b(e,s),b(s,n),b(n,l),b(l,u),b(n,x),b(n,y),g(y,t[0]),b(s,k),b(s,E),b(E,U),T||(I=[v(y,"input",t[4]),v(E,"click",t[2])],T=!0)},p(t,e){1&e&&y.value!==t[0]&&g(y,t[0])},d(t){t&&o(e),T=!1,w(I)}}}function E(t){let e,s,a={ctx:t,current:null,token:null,pending:I,then:T,catch:U,value:5,error:6};return x(s=j(t[0]),a),{c(){e=n(),a.block.c()},l(t){e=n(),a.block.l(t)},m(t,s){r(t,e,s),a.block.m(t,a.anchor=s),a.mount=()=>e.parentNode,a.anchor=e},p(e,n){if(t=e,a.ctx=t,1&n&&s!==(s=j(t[0]))&&x(s,a));else{const e=t.slice();e[5]=a.resolved,a.block.p(e,n)}},d(t){t&&o(e),a.block.d(t),a.token=null,a=null}}}function U(t){return{c:u,l:u,m:u,p:u,d:u}}function T(t){let e,s,n,l,u,g,w,x,k,E,U,T=t[5].name+"";function I(...e){return t[3](t[5],...e)}return{c(){e=i("div"),s=i("h1"),n=d(T),l=a(),u=i("img"),w=a(),x=i("button"),k=d("play"),this.h()},l(t){e=h(t,"DIV",{class:!0});var a=p(e);s=h(a,"H1",{class:!0});var r=p(s);n=m(r,T),r.forEach(o),l=c(a),u=h(a,"IMG",{class:!0,src:!0,alt:!0}),w=c(a),x=h(a,"BUTTON",{class:!0});var i=p(x);k=m(i,"play"),i.forEach(o),a.forEach(o),this.h()},h(){f(s,"class","svelte-gdlu9p"),f(u,"class","rounded center svelte-gdlu9p"),u.src!==(g=t[5].thumb)&&f(u,"src",g),f(u,"alt","thumbnail"),f(x,"class","bg-blue-600 hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4\n      border border-gray-400 rounded shadow btn-center text-center center2 svelte-gdlu9p"),f(e,"class","bg-white shadow rounded content-center items-center")},m(t,a){r(t,e,a),b(e,s),b(s,n),b(e,l),b(e,u),b(e,w),b(e,x),b(x,k),E||(U=v(x,"click",I),E=!0)},p(e,s){t=e,1&s&&T!==(T=t[5].name+"")&&y(n,T),1&s&&u.src!==(g=t[5].thumb)&&f(u,"src",g)},d(t){t&&o(e),E=!1,U()}}}function I(t){let e,s;return{c(){e=i("h1"),s=d("getting song"),this.h()},l(t){e=h(t,"H1",{class:!0});var a=p(e);s=m(a,"getting song"),a.forEach(o),this.h()},h(){f(e,"class","svelte-gdlu9p")},m(t,a){r(t,e,a),b(e,s)},p:u,d(t){t&&o(e)}}}function L(t){let e,s;function i(t,e){return t[1]?E:k}let d=i(t),h=d(t);return{c(){e=a(),h.c(),s=n(),this.h()},l(t){l('[data-svelte="svelte-kmqwlw"]',document.head).forEach(o),e=c(t),h.l(t),s=n(),this.h()},h(){document.title="Single Song"},m(t,a){r(t,e,a),h.m(t,a),r(t,s,a)},p(t,[e]){d===(d=i(t))&&h?h.p(t,e):(h.d(1),h=d(t),h&&(h.c(),h.m(s.parentNode,s)))},i:u,o:u,d(t){t&&o(e),h.d(t),t&&o(s)}}}async function j(t){const e=!(!(s=t.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/))||11!=s[7].length)&&s[7];var s;console.log(e),console.log("https://www.yt-mp3s.com/@api/json/mp3/"+e);const a=await fetch("https://www.yt-mp3s.com/@api/json/mp3/"+e,{method:"GET",mode:"cors",headers:{}}),n=await a.json(),l={parsedUrl:await n.vidInfo[0].dloadUrl,name:await n.vidTitle,thumb:await n.vidThumb,VideoURL:t};return console.log(l),l}function N(t,e,s){var a,n=!1;return[a,n,function(){s(1,n=!0)},(t,e)=>async function(t){const e=new Audio(await t);await e.play()}(t.parsedUrl),function(){a=this.value,s(0,a)}]}export default class extends t{constructor(t){super(),e(this,t,N,L,s,{})}}
