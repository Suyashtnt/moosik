import{S as e,i as t,s as n,f as r,a as o,t as a,g as s,h as i,c,j as l,d as u,k as f,b as d,l as h,o as p,u as m,n as g,v,e as y,q as w,w as b,x as E,y as x,z as U,A as N,B as R,C as T,D as S,E as A,F as O,G as C,m as j,H as L,r as B,I as k}from"./client.b01d7221.js";var D=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},P=Object.prototype.toString;function q(e){return"[object Array]"===P.call(e)}function I(e){return void 0===e}function H(e){return null!==e&&"object"==typeof e}function $(e){if("[object Object]"!==P.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function V(e){return"[object Function]"===P.call(e)}function F(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),q(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var z={isArray:q,isArrayBuffer:function(e){return"[object ArrayBuffer]"===P.call(e)},isBuffer:function(e){return null!==e&&!I(e)&&null!==e.constructor&&!I(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:H,isPlainObject:$,isUndefined:I,isDate:function(e){return"[object Date]"===P.call(e)},isFile:function(e){return"[object File]"===P.call(e)},isBlob:function(e){return"[object Blob]"===P.call(e)},isFunction:V,isStream:function(e){return H(e)&&V(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:F,merge:function e(){var t={};function n(n,r){$(t[r])&&$(n)?t[r]=e(t[r],n):$(n)?t[r]=e({},n):q(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)F(arguments[r],n);return t},extend:function(e,t,n){return F(t,(function(t,r){e[r]=n&&"function"==typeof t?D(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}};function M(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var G=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(z.isURLSearchParams(t))r=t.toString();else{var o=[];z.forEach(t,(function(e,t){null!=e&&(z.isArray(e)?t+="[]":e=[e],z.forEach(e,(function(e){z.isDate(e)?e=e.toISOString():z.isObject(e)&&(e=JSON.stringify(e)),o.push(M(t)+"="+M(e))})))})),r=o.join("&")}if(r){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function _(){this.handlers=[]}_.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},_.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},_.prototype.forEach=function(e){z.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var J=_,X=function(e,t,n){return z.forEach(n,(function(n){e=n(e,t)})),e},K=function(e){return!(!e||!e.__CANCEL__)},W=function(e,t){z.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},Y=function(e,t,n,r,o){return function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,o)},Q=z.isStandardBrowserEnv()?{write:function(e,t,n,r,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),z.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),z.isString(r)&&s.push("path="+r),z.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Z=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],ee=z.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=z.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},te=function(e){return new Promise((function(t,n){var r=e.data,o=e.headers;z.isFormData(r)&&delete o["Content-Type"],(z.isBlob(r)||z.isFile(r))&&r.type&&delete o["Content-Type"];var a=new XMLHttpRequest;if(e.auth){var s=e.auth.username||"",i=unescape(encodeURIComponent(e.auth.password))||"";o.Authorization="Basic "+btoa(s+":"+i)}var c,l,u=(c=e.baseURL,l=e.url,c&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(l)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(c,l):l);if(a.open(e.method.toUpperCase(),G(u,e.params,e.paramsSerializer),!0),a.timeout=e.timeout,a.onreadystatechange=function(){if(a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))){var r,o,s,i,c,l="getAllResponseHeaders"in a?(r=a.getAllResponseHeaders(),c={},r?(z.forEach(r.split("\n"),(function(e){if(i=e.indexOf(":"),o=z.trim(e.substr(0,i)).toLowerCase(),s=z.trim(e.substr(i+1)),o){if(c[o]&&Z.indexOf(o)>=0)return;c[o]="set-cookie"===o?(c[o]?c[o]:[]).concat([s]):c[o]?c[o]+", "+s:s}})),c):c):null,u={data:e.responseType&&"text"!==e.responseType?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:l,config:e,request:a};!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(Y("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}(t,n,u),a=null}},a.onabort=function(){a&&(n(Y("Request aborted",e,"ECONNABORTED",a)),a=null)},a.onerror=function(){n(Y("Network Error",e,null,a)),a=null},a.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(Y(t,e,"ECONNABORTED",a)),a=null},z.isStandardBrowserEnv()){var f=(e.withCredentials||ee(u))&&e.xsrfCookieName?Q.read(e.xsrfCookieName):void 0;f&&(o[e.xsrfHeaderName]=f)}if("setRequestHeader"in a&&z.forEach(o,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete o[t]:a.setRequestHeader(t,e)})),z.isUndefined(e.withCredentials)||(a.withCredentials=!!e.withCredentials),e.responseType)try{a.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&a.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){a&&(a.abort(),n(e),a=null)})),r||(r=null),a.send(r)}))},ne={"Content-Type":"application/x-www-form-urlencoded"};function re(e,t){!z.isUndefined(e)&&z.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var oe,ae={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(oe=te),oe),transformRequest:[function(e,t){return W(t,"Accept"),W(t,"Content-Type"),z.isFormData(e)||z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)?e:z.isArrayBufferView(e)?e.buffer:z.isURLSearchParams(e)?(re(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):z.isObject(e)?(re(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};ae.headers={common:{Accept:"application/json, text/plain, */*"}},z.forEach(["delete","get","head"],(function(e){ae.headers[e]={}})),z.forEach(["post","put","patch"],(function(e){ae.headers[e]=z.merge(ne)}));var se=ae;function ie(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var ce=function(e){return ie(e),e.headers=e.headers||{},e.data=X(e.data,e.headers,e.transformRequest),e.headers=z.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),z.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||se.adapter)(e).then((function(t){return ie(e),t.data=X(t.data,t.headers,e.transformResponse),t}),(function(t){return K(t)||(ie(e),t&&t.response&&(t.response.data=X(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},le=function(e,t){t=t||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function i(e,t){return z.isPlainObject(e)&&z.isPlainObject(t)?z.merge(e,t):z.isPlainObject(t)?z.merge({},t):z.isArray(t)?t.slice():t}function c(r){z.isUndefined(t[r])?z.isUndefined(e[r])||(n[r]=i(void 0,e[r])):n[r]=i(e[r],t[r])}z.forEach(r,(function(e){z.isUndefined(t[e])||(n[e]=i(void 0,t[e]))})),z.forEach(o,c),z.forEach(a,(function(r){z.isUndefined(t[r])?z.isUndefined(e[r])||(n[r]=i(void 0,e[r])):n[r]=i(void 0,t[r])})),z.forEach(s,(function(r){r in t?n[r]=i(e[r],t[r]):r in e&&(n[r]=i(void 0,e[r]))}));var l=r.concat(o).concat(a).concat(s),u=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return z.forEach(u,c),n};function ue(e){this.defaults=e,this.interceptors={request:new J,response:new J}}ue.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=le(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[ce,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},ue.prototype.getUri=function(e){return e=le(this.defaults,e),G(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},z.forEach(["delete","get","head","options"],(function(e){ue.prototype[e]=function(t,n){return this.request(le(n||{},{method:e,url:t}))}})),z.forEach(["post","put","patch"],(function(e){ue.prototype[e]=function(t,n,r){return this.request(le(r||{},{method:e,url:t,data:n}))}}));var fe=ue;function de(e){this.message=e}de.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},de.prototype.__CANCEL__=!0;var he=de;function pe(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new he(e),t(n.reason))}))}pe.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},pe.source=function(){var e;return{token:new pe((function(t){e=t})),cancel:e}};var me=pe;function ge(e){var t=new fe(e),n=D(fe.prototype.request,t);return z.extend(n,fe.prototype,t),z.extend(n,t),n}var ve=ge(se);ve.Axios=fe,ve.create=function(e){return ge(le(ve.defaults,e))},ve.Cancel=he,ve.CancelToken=me,ve.isCancel=K,ve.all=function(e){return Promise.all(e)},ve.spread=function(e){return function(t){return e.apply(null,t)}};var ye=ve,we=ve;ye.default=we;var be=ye;function Ee(e){let t,n,v,y,w,b,E,x,U,N,R,T,S,A,O,C;return{c(){t=r("div"),n=r("div"),v=r("img"),w=o(),b=r("div"),E=r("h2"),x=a(e[0]),U=o(),N=r("div"),R=a(e[2]),T=o(),S=r("button"),A=a("play"),this.h()},l(r){t=s(r,"DIV",{class:!0});var o=i(t);n=s(o,"DIV",{class:!0});var a=i(n);v=s(a,"IMG",{class:!0,src:!0,alt:!0}),w=c(a),b=s(a,"DIV",{class:!0});var f=i(b);E=s(f,"H2",{class:!0});var d=i(E);x=l(d,e[0]),d.forEach(u),U=c(f),N=s(f,"DIV",{class:!0});var h=i(N);R=l(h,e[2]),h.forEach(u),T=c(f),S=s(f,"BUTTON",{class:!0});var p=i(S);A=l(p,"play"),p.forEach(u),f.forEach(u),a.forEach(u),o.forEach(u),this.h()},h(){f(v,"class","h-16 w-16 md:h-24 md:w-24 rounded mx-auto md:mx-0 md:mr-6"),v.src!==(y=e[1])&&f(v,"src",y),f(v,"alt","Avatar"),f(E,"class","text-lg capitalize"),f(N,"class","text-gray-600"),f(S,"class","btn btn-primary mt-2"),f(b,"class","text-center md:text-left"),f(n,"class","md:flex bg-white rounded-lg p-6"),f(t,"class","shadow-lg leading-normal self-end bg-white rounded-lg m-10 relative")},m(r,o){d(r,t,o),h(t,n),h(n,v),h(n,w),h(n,b),h(b,E),h(E,x),h(b,U),h(b,N),h(N,R),h(b,T),h(b,S),h(S,A),O||(C=p(S,"click",e[3]),O=!0)},p(e,[t]){2&t&&v.src!==(y=e[1])&&f(v,"src",y),1&t&&m(x,e[0]),4&t&&m(R,e[2])},i:g,o:g,d(e){e&&u(t),O=!1,C()}}}function xe(e,t,n){const r=v();let{name:o}=t,{parsedUrl:a}=t,{thumb:s}=t,{VideoURL:i}=t;return e.$$set=e=>{"name"in e&&n(0,o=e.name),"parsedUrl"in e&&n(4,a=e.parsedUrl),"thumb"in e&&n(1,s=e.thumb),"VideoURL"in e&&n(2,i=e.VideoURL)},[o,s,i,function(){r("play",{url:a})},a]}class Ue extends e{constructor(e){super(),t(this,e,xe,Ee,n,{name:0,parsedUrl:4,thumb:1,VideoURL:2})}}function Ne(e,t,n){const r=e.slice();return r[25]=t[n],r}function Re(e){let t,n,m,v,y,w,b=e[2]&&Ae(e);return{c(){b&&b.c(),t=o(),n=r("button"),m=r("p"),v=a("login"),this.h()},l(e){b&&b.l(e),t=c(e),n=s(e,"BUTTON",{});var r=i(n);m=s(r,"P",{class:!0});var o=i(m);v=l(o,"login"),o.forEach(u),r.forEach(u),this.h()},h(){f(m,"class","text-center title2 mx-auto svelte-1ar5wdl")},m(r,o){b&&b.m(r,o),d(r,t,o),d(r,n,o),h(n,m),h(m,v),y||(w=p(n,"click",e[14]),y=!0)},p(e,n){e[2]?b?b.p(e,n):(b=Ae(e),b.c(),b.m(t.parentNode,t)):b&&(b.d(1),b=null)},i:g,o:g,d(e){b&&b.d(e),e&&u(t),e&&u(n),y=!1,w()}}}function Te(e){let t,n;return{c(){t=r("h1"),n=a("authenticating..."),this.h()},l(e){t=s(e,"H1",{class:!0});var r=i(t);n=l(r,"authenticating..."),r.forEach(u),this.h()},h(){f(t,"class","text-center title2 svelte-1ar5wdl")},m(e,r){d(e,t,r),h(t,n)},p:g,i:g,o:g,d(e){e&&u(t)}}}function Se(e){let t,n,g,v,w,U,R,T,S,A,O,C,k,D,P,q,I,H,$,V,F,z,M,G,_,J,X,K,W,Y,Q,Z,ee,te,ne,re,oe=e[0].user.displayName+"",ae=e[8]&&Oe(),se=e[6]&&Ce(e),ie=e[9]&&je(),ce=e[4]&&Le(),le=e[5]&&Be(),ue=e[10],fe=[];for(let t=0;t<ue.length;t+=1)fe[t]=ke(Ne(e,ue,t));const de=e=>b(fe[e],1,1,()=>{fe[e]=null});return{c(){t=r("img"),g=o(),v=r("h1"),w=a(oe),U=o(),R=r("div"),T=r("form"),S=r("div"),A=r("label"),O=a("URL"),C=o(),k=r("input"),D=o(),P=r("div"),q=r("button"),I=a("Add to playlist"),H=o(),$=r("button"),V=a("Update List"),F=o(),z=r("button"),M=a("download list"),G=o(),_=r("button"),J=a("Play all"),X=o(),ae&&ae.c(),K=o(),se&&se.c(),W=o(),ie&&ie.c(),Y=o(),ce&&ce.c(),Q=o(),le&&le.c(),Z=o();for(let e=0;e<fe.length;e+=1)fe[e].c();ee=y(),this.h()},l(e){t=s(e,"IMG",{src:!0,alt:!0,class:!0}),g=c(e),v=s(e,"H1",{class:!0});var n=i(v);w=l(n,oe),n.forEach(u),U=c(e),R=s(e,"DIV",{class:!0});var r=i(R);T=s(r,"FORM",{class:!0});var o=i(T);S=s(o,"DIV",{class:!0});var a=i(S);A=s(a,"LABEL",{class:!0,for:!0});var f=i(A);O=l(f,"URL"),f.forEach(u),C=c(a),k=s(a,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0}),a.forEach(u),D=c(o),P=s(o,"DIV",{class:!0});var d=i(P);q=s(d,"BUTTON",{class:!0});var h=i(q);I=l(h,"Add to playlist"),h.forEach(u),H=c(d),$=s(d,"BUTTON",{class:!0});var p=i($);V=l(p,"Update List"),p.forEach(u),F=c(d),z=s(d,"BUTTON",{class:!0});var m=i(z);M=l(m,"download list"),m.forEach(u),G=c(d),_=s(d,"BUTTON",{class:!0});var b=i(_);J=l(b,"Play all"),b.forEach(u),d.forEach(u),o.forEach(u),r.forEach(u),X=c(e),ae&&ae.l(e),K=c(e),se&&se.l(e),W=c(e),ie&&ie.l(e),Y=c(e),ce&&ce.l(e),Q=c(e),le&&le.l(e),Z=c(e);for(let t=0;t<fe.length;t+=1)fe[t].l(e);ee=y(),this.h()},h(){t.src!==(n=e[0].user.photoURL)&&f(t,"src",n),f(t,"alt","your profile pic"),f(t,"class","rounded-full mx-auto mt-6 w-20 h-20 "),f(v,"class","text-center text-lg title mx-auto mt-2"),f(A,"class","block text-gray-700 text-sm font-bold mb-2"),f(A,"for","username"),f(k,"class","shadow appearance-none border rounded w-full py-2 px-3\n          text-gray-700 leading-tight focus:outline-none focus:shadow-outline"),f(k,"id","username"),f(k,"type","text"),f(k,"placeholder","Youtube Video URL"),f(S,"class","mb-4"),f(q,"class","btn btn-primary mt-2"),f($,"class","btn btn-primary mt-2"),f(z,"class","btn btn-primary mt-2"),f(_,"class","btn btn-primary mt-2"),f(P,"class","justify-evenly items-center content-center self-center"),f(T,"class","bg-white shadow-md clearfix rounded px-8 pt-6 pb-8 mb-4 svelte-1ar5wdl"),f(R,"class","w-full center clearfix svelte-1ar5wdl")},m(n,r){d(n,t,r),d(n,g,r),d(n,v,r),h(v,w),d(n,U,r),d(n,R,r),h(R,T),h(T,S),h(S,A),h(A,O),h(S,C),h(S,k),j(k,e[11]),h(T,D),h(T,P),h(P,q),h(q,I),h(P,H),h(P,$),h($,V),h(P,F),h(P,z),h(z,M),h(P,G),h(P,_),h(_,J),d(n,X,r),ae&&ae.m(n,r),d(n,K,r),se&&se.m(n,r),d(n,W,r),ie&&ie.m(n,r),d(n,Y,r),ce&&ce.m(n,r),d(n,Q,r),le&&le.m(n,r),d(n,Z,r);for(let e=0;e<fe.length;e+=1)fe[e].m(n,r);d(n,ee,r),te=!0,ne||(re=[p(k,"input",e[17]),p(q,"click",e[18]),p($,"click",e[19]),p(z,"click",e[20]),p(_,"click",e[21])],ne=!0)},p(e,r){if((!te||1&r&&t.src!==(n=e[0].user.photoURL))&&f(t,"src",n),(!te||1&r)&&oe!==(oe=e[0].user.displayName+"")&&m(w,oe),2048&r&&k.value!==e[11]&&j(k,e[11]),e[8]?ae||(ae=Oe(),ae.c(),ae.m(K.parentNode,K)):ae&&(ae.d(1),ae=null),e[6]?se?se.p(e,r):(se=Ce(e),se.c(),se.m(W.parentNode,W)):se&&(se.d(1),se=null),e[9]?ie||(ie=je(),ie.c(),ie.m(Y.parentNode,Y)):ie&&(ie.d(1),ie=null),e[4]?ce||(ce=Le(),ce.c(),ce.m(Q.parentNode,Q)):ce&&(ce.d(1),ce=null),e[5]?le||(le=Be(),le.c(),le.m(Z.parentNode,Z)):le&&(le.d(1),le=null),1024&r){let t;for(ue=e[10],t=0;t<ue.length;t+=1){const n=Ne(e,ue,t);fe[t]?(fe[t].p(n,r),x(fe[t],1)):(fe[t]=ke(n),fe[t].c(),x(fe[t],1),fe[t].m(ee.parentNode,ee))}for(N(),t=ue.length;t<fe.length;t+=1)de(t);E()}},i(e){if(!te){for(let e=0;e<ue.length;e+=1)x(fe[e]);te=!0}},o(e){fe=fe.filter(Boolean);for(let e=0;e<fe.length;e+=1)b(fe[e]);te=!1},d(e){e&&u(t),e&&u(g),e&&u(v),e&&u(U),e&&u(R),e&&u(X),ae&&ae.d(e),e&&u(K),se&&se.d(e),e&&u(W),ie&&ie.d(e),e&&u(Y),ce&&ce.d(e),e&&u(Q),le&&le.d(e),e&&u(Z),L(fe,e),e&&u(ee),ne=!1,B(re)}}}function Ae(e){let t,n;return{c(){t=r("h1"),n=a(e[3]),this.h()},l(r){t=s(r,"H1",{class:!0});var o=i(t);n=l(o,e[3]),o.forEach(u),this.h()},h(){f(t,"class","text-center title2 mx-auto svelte-1ar5wdl")},m(e,r){d(e,t,r),h(t,n)},p(e,t){8&t&&m(n,e[3])},d(e){e&&u(t)}}}function Oe(e){let t,n;return{c(){t=r("h1"),n=a("Getting song..."),this.h()},l(e){t=s(e,"H1",{class:!0});var r=i(t);n=l(r,"Getting song..."),r.forEach(u),this.h()},h(){f(t,"class","text-center title2 svelte-1ar5wdl")},m(e,r){d(e,t,r),h(t,n)},d(e){e&&u(t)}}}function Ce(e){let t,n,o;return{c(){t=r("h1"),n=a("An error occured while saving: "),o=a(e[7]),this.h()},l(r){t=s(r,"H1",{class:!0});var a=i(t);n=l(a,"An error occured while saving: "),o=l(a,e[7]),a.forEach(u),this.h()},h(){f(t,"class","text-center title2 svelte-1ar5wdl")},m(e,r){d(e,t,r),h(t,n),h(t,o)},p(e,t){128&t&&m(o,e[7])},d(e){e&&u(t)}}}function je(e){let t,n;return{c(){t=r("h1"),n=a("Downloading your playlist"),this.h()},l(e){t=s(e,"H1",{class:!0});var r=i(t);n=l(r,"Downloading your playlist"),r.forEach(u),this.h()},h(){f(t,"class","text-center title2 svelte-1ar5wdl")},m(e,r){d(e,t,r),h(t,n)},d(e){e&&u(t)}}}function Le(e){let t,n;return{c(){t=r("h1"),n=a("saving..."),this.h()},l(e){t=s(e,"H1",{class:!0});var r=i(t);n=l(r,"saving..."),r.forEach(u),this.h()},h(){f(t,"class","text-center title2 svelte-1ar5wdl")},m(e,r){d(e,t,r),h(t,n)},d(e){e&&u(t)}}}function Be(e){let t,n;return{c(){t=r("h1"),n=a("saved!"),this.h()},l(e){t=s(e,"H1",{class:!0});var r=i(t);n=l(r,"saved!"),r.forEach(u),this.h()},h(){f(t,"class","text-center title2 svelte-1ar5wdl")},m(e,r){d(e,t,r),h(t,n)},d(e){e&&u(t)}}}function ke(e){let t,n;const r=[e[25]];let o={};for(let e=0;e<r.length;e+=1)o=k(o,r[e]);return t=new Ue({props:o}),t.$on("play",Pe),{c(){R(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,r){S(t,e,r),n=!0},p(e,n){const o=1024&n?A(r,[O(e[25])]):{};t.$set(o)},i(e){n||(x(t.$$.fragment,e),n=!0)},o(e){b(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function De(e){let t,n,r,a,s;const i=[Se,Te,Re],l=[];function f(e,t){return e[0]?0:e[1]?1:2}return n=f(e),r=l[n]=i[n](e),{c(){t=o(),r.c(),a=y(),this.h()},l(e){w('[data-svelte="svelte-2986pj"]',document.head).forEach(u),t=c(e),r.l(e),a=y(),this.h()},h(){document.title="Playlist"},m(e,r){d(e,t,r),l[n].m(e,r),d(e,a,r),s=!0},p(e,[t]){let o=n;n=f(e),n===o?l[n].p(e,t):(N(),b(l[o],1,1,()=>{l[o]=null}),E(),r=l[n],r||(r=l[n]=i[n](e),r.c()),x(r,1),r.m(a.parentNode,a))},i(e){s||(x(r),s=!0)},o(e){b(r),s=!1},d(e){e&&u(t),l[n].d(e),e&&u(a)}}}async function Pe(e){const t=new Audio(await e.detail.url);await t.play()}function qe(e){return e.play().then(()=>new Promise((t,n)=>{function r(){e.removeEventListener("error",o),t()}function o(){e.removeEventListener("ended",r),n(err)}e.addEventListener("ended",r,{once:!0}),e.addEventListener("error",o,{once:!0})}))}function Ie(e,t,n){let r,o,a,s,i,c,l,u,f,d,h;U(()=>{r=new firebase.auth.GoogleAuthProvider});var p,m=[];async function g(e){var t=await async function(e){n(8,d=!0);const t=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!=t[7].length)&&t[7]}(e);console.log(t),console.log("https://www.yt-mp3s.com/@api/json/mp3/"+t);try{const r=await be.get("https://www.yt-mp3s.com/@api/json/mp3/"+t,{method:"GET",headers:{}}),o=await r.data,a=await o.vidInfo[0].dloadUrl,s=await o.vidTitle,i={parsedUrl:a,name:s,thumb:await o.vidThumb,VideoURL:e};return n(8,d=!1),console.log(i),i}catch(e){return n(8,d=!1),e}}(e);n(10,m=[...m,await t]),console.log(m)}async function v(){for(let e=0;e<m.length;e++){const t=new Audio(m[e].parsedUrl);await qe(t)}}async function y(){console.log("updating..."),n(6,u=!1),n(4,c=!0);await be.post("https://moosik-backend.herokuapp.com/playlist/post",{uid:o.user.uid,Songs:m}).then(()=>{n(4,c=!1),n(5,l=!0)}).catch(e=>{n(6,u=!0),n(7,f=e)})}async function w(){n(9,h=!0),console.log("downloading "+JSON.stringify({uid:""+o.user.uid}));const e=await be.post("http://moosik-backend.herokuapp.com/playlist/get",{uid:""+o.user.uid}),t=await e.data;console.log(t),n(9,h=!1),n(10,m=t.Songs)}return[o,a,s,i,c,l,u,f,d,h,m,p,g,v,async function(){try{n(1,a=!0),n(2,s=!1),firebase.auth().signInWithPopup(r).then(e=>{console.log(e),n(0,o=e),((e,t,n=1)=>{const r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);const o="expires="+r.toUTCString();document.cookie=`${e}=${t};${o};path=/`})("userID",e.user.uid,1e5)}).then(()=>n(1,a=!1)).catch(e=>{n(2,s=!0),n(1,a=!1),n(3,i=e)})}catch(e){n(1,a=!1),n(2,s=!0);let t=e.message||e;console.log("Something went wrong:",t),n(3,i=t)}},y,w,function(){p=this.value,n(11,p)},e=>{e.preventDefault(),g(p)},e=>{e.preventDefault(),y()},e=>{e.preventDefault(),w()},e=>{e.preventDefault(),v()}]}export default class extends e{constructor(e){super(),t(this,e,Ie,De,n,{})}}
